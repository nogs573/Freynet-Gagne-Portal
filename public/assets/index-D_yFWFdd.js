import{a as J}from"./formatters-Cw2xOObF.js";import{_ as K}from"./TablePagination.vue_vue_type_script_setup_true_lang-DofzxqGH.js";import{_ as W}from"./MoreBtn.vue_vue_type_script_setup_true_lang-CoJ46Clz.js";import{_ as X}from"./AppTextField.vue_vue_type_script_setup_true_lang-Dba_d-Do.js";import{_ as Y}from"./AppSelect.vue_vue_type_script_setup_true_lang-mfWXM2VL.js";import{u as ee}from"./useApi-D6Fo_5Xj.js";import{c as te}from"./createUrl-tmJqdIPL.js";import{$ as ae}from"./api-CeGBCOUr.js";import{V as E}from"./VCardText-Cwvv1NXL.js";import{V as oe,a as ie}from"./VRow-BJ3vRaQf.js";import{V as I,b as se}from"./VCard-n1X1cK2l.js";import{d as le,r as p,aw as ne,Z as $,n as s,o as r,c as _,b as t,f as a,F as L,i as re,e as l,ag as ce,t as v,ah as x,v as n,q as pe,a2 as w,g as D,a as R,x as de,y as ue}from"./main-COzPSvmz.js";import{V as F}from"./VDivider-BaT1F8ur.js";import{V as me}from"./VDataTableServer-CZwnwMnj.js";import{V as ve}from"./VTooltip-CvvrClPn.js";import{V as C}from"./VAvatar-BgzCTEhE.js";import{V as fe}from"./VImg-Mm9y2cRD.js";import{V as _e}from"./VChip-DPeYBiGA.js";import"./helpers-DK5QwNv0.js";import"./VPagination-Dxg7NyDu.js";import"./VMenu-Wpc6e35-.js";import"./VOverlay-NcYmFA8g.js";import"./easing-CjukEv2V.js";import"./delay-BHYXvR4k.js";import"./lazy-D9Z9oHvh.js";import"./scopeId-Cu4Sm8bO.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-svcbKRDj.js";import"./VList-CNvbjYBq.js";import"./ssrBoot-5xkFD_xz.js";import"./form-D3LuPyIe.js";import"./VTextField-Bvt5xpEn.js";/* empty css                   */import"./VCounter-D7mVbNfZ.js";import"./VField-DTZzSet7.js";import"./VInput-DmbVP3f3.js";import"./VSelect-B9TDWHSZ.js";import"./VCheckboxBtn-Jm2QJJl5.js";import"./VSelectionControl-DTAglom5.js";import"./index-CeW1uQ0r.js";/* empty css              */import"./VDataTable-BtROIyg_.js";import"./VTable-D8lrf0MJ.js";import"./filter-ClxjHxUY.js";import"./VSlideGroup-S6brIomR.js";const xe={key:0},be={class:"d-flex flex-column"},he={class:"text-h4"},ye={class:"text-body-1 text-capitalize"},ge={class:"d-flex gap-4 align-center flex-wrap"},Ve={class:"d-flex align-center gap-2"},we=l("span",null,"Show",-1),ke={class:"d-flex align-center flex-wrap gap-4"},Ie={class:"invoice-list-filter",style:{"inline-size":"12.5rem"}},$e={class:"invoice-list-filter",style:{"inline-size":"10rem"}},De={class:"mb-0"},Ce={class:"mb-0"},Pe={class:"mb-0"},Be={class:"d-flex align-center"},Se={key:1},Ue={class:"d-flex flex-column"},Te={class:"text-sm text-medium-emphasis"},ze={key:1,class:"text-base text-high-emphasis"},Ae={key:1},Ct=le({__name:"index",async setup(Ne){let h,P;const y=p(""),g=p(null),b=p([]),d=p(10),u=p(1),B=p(),S=p(),q=o=>{var i,m;B.value=(i=o.sortBy[0])==null?void 0:i.key,S.value=(m=o.sortBy[0])==null?void 0:m.order},V=p([{title:"Clients",value:24,icon:"bx-user"},{title:"Invoices",value:165,icon:"bx-file"},{title:"Paid",value:"$2.46k",icon:"bx-check-double"},{title:"Unpaid",value:"$876",icon:"bx-error-circle"}]),M=[{title:"#",key:"id"},{title:"Status",key:"status",sortable:!1},{title:"Client",key:"client"},{title:"Total",key:"total"},{title:"Issued Date",key:"date"},{title:"Balance",key:"balance"},{title:"Actions",key:"actions",sortable:!1}],{data:U,execute:j}=([h,P]=ne(()=>ee(te("/apps/invoice",{query:{q:y,status:g,itemsPerPage:d,page:u,sortBy:B,orderBy:S}}))),h=await h,P(),h),T=$(()=>U.value.invoices),z=$(()=>U.value.totalInvoices),f=(o,i)=>o===i?{status:"Unpaid",chip:{color:"error"}}:o===0?{status:"Paid",chip:{color:"success"}}:{status:o,chip:{variant:"text"}},k=o=>o==="Partial Payment"?{variant:"warning",icon:"bx-pie-chart-alt"}:o==="Paid"?{variant:"success",icon:"bx-check"}:o==="Downloaded"?{variant:"info",icon:"bx-down-arrow-alt"}:o==="Draft"?{variant:"primary",icon:"bx-folder"}:o==="Sent"?{variant:"secondary",icon:"bx-envelope"}:o==="Past Due"?{variant:"error",icon:"bx-help-circle"}:{variant:"secondary",icon:"bx-x"},O=$(()=>o=>[{title:"Download",value:"download",prependIcon:"bx-download"},{title:"Edit",value:"edit",prependIcon:"bx-pencil",to:{name:"apps-invoice-edit-id",params:{id:o}}},{title:"Duplicate",value:"duplicate",prependIcon:"bx-duplicate"}]),Q=async o=>{await ae(`/apps/invoice/${o}`,{method:"DELETE"});const i=b.value.findIndex(m=>m===o);i!==-1&&b.value.splice(i,1),j()};return(o,i)=>{const m=Y,Z=X,A=R("RouterLink"),N=R("IconBtn"),G=W,H=K;return s(T)?(r(),_("section",xe,[t(I,{class:"mb-6"},{default:a(()=>[t(E,{class:"px-3"},{default:a(()=>[t(oe,null,{default:a(()=>[(r(!0),_(L,null,re(s(V),(e,c)=>(r(),_(L,{key:c},[t(ie,{cols:"12",sm:"6",md:"3",class:"px-6"},{default:a(()=>[l("div",{class:de(["d-flex justify-space-between align-center",o.$vuetify.display.xs?c!==s(V).length-1?"border-b pb-4":"":o.$vuetify.display.sm&&c<s(V).length/2?"border-b pb-4":""])},[l("div",be,[l("h4",he,n(e.value),1),l("span",ye,n(e.title),1)]),t(C,{variant:"tonal",rounded:"",size:"42"},{default:a(()=>[t(w,{icon:e.icon,size:"26",color:"high-emphasis"},null,8,["icon"])]),_:2},1024)],2)]),_:2},1024),(o.$vuetify.display.mdAndUp?c!==s(V).length-1:o.$vuetify.display.smAndUp&&c%2===0)?(r(),D(F,{key:0,vertical:"",inset:"",length:"60"})):ue("",!0)],64))),128))]),_:1})]),_:1})]),_:1}),t(I,{id:"invoice-list"},{default:a(()=>[t(E,{class:"d-flex justify-space-between align-center flex-wrap gap-4"},{default:a(()=>[l("div",ge,[l("div",Ve,[we,t(m,{"model-value":s(d),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":i[0]||(i[0]=e=>d.value=parseInt(e,10))},null,8,["model-value"])]),t(ce,{"prepend-icon":"bx-plus",to:{name:"apps-invoice-add"}},{default:a(()=>[v(" Create invoice ")]),_:1})]),l("div",ke,[l("div",Ie,[t(Z,{modelValue:s(y),"onUpdate:modelValue":i[1]||(i[1]=e=>x(y)?y.value=e:null),placeholder:"Search Invoice"},null,8,["modelValue"])]),l("div",$e,[t(m,{modelValue:s(g),"onUpdate:modelValue":i[2]||(i[2]=e=>x(g)?g.value=e:null),placeholder:"Invoice Status",clearable:"","clear-icon":"bx-x","single-line":"",items:["Downloaded","Draft","Sent","Paid","Partial Payment","Past Due"]},null,8,["modelValue"])])])]),_:1}),t(F),t(me,{"model-value":s(b),"onUpdate:modelValue":i[4]||(i[4]=e=>x(b)?b.value=e:null),"items-per-page":s(d),"onUpdate:itemsPerPage":i[5]||(i[5]=e=>x(d)?d.value=e:null),page:s(u),"onUpdate:page":i[6]||(i[6]=e=>x(u)?u.value=e:null),"show-select":"","items-length":s(z),headers:M,items:s(T),"item-value":"id",class:"text-no-wrap","onUpdate:options":q},{"item.id":a(({item:e})=>[t(A,{to:{name:"apps-invoice-preview-id",params:{id:e.id}}},{default:a(()=>[v(" #"+n(e.id),1)]),_:2},1032,["to"])]),"item.status":a(({item:e})=>[t(ve,null,{activator:a(({props:c})=>[t(C,pe({size:28},c,{color:k(e.invoiceStatus).variant,variant:"tonal"}),{default:a(()=>[t(w,{size:16,icon:k(e.invoiceStatus).icon},null,8,["icon"])]),_:2},1040,["color"])]),default:a(()=>[l("p",De,n(e.invoiceStatus),1),l("p",Ce," Balance: "+n(e.balance),1),l("p",Pe," Due date: "+n(e.dueDate),1)]),_:2},1024)]),"item.client":a(({item:e})=>[l("div",Be,[t(C,{size:"34",color:e.avatar.length?void 0:k(e.invoiceStatus).variant,variant:e.avatar.length?void 0:"tonal",class:"me-3"},{default:a(()=>[e.avatar.length?(r(),D(fe,{key:0,src:e.avatar},null,8,["src"])):(r(),_("span",Se,n(("avatarText"in o?o.avatarText:s(J))(e.client.name)),1))]),_:2},1032,["color","variant"]),l("div",Ue,[t(A,{to:{name:"pages-user-profile-tab",params:{tab:"profile"}},class:"text-link font-weight-medium",style:{"line-height":"1.375rem"}},{default:a(()=>[v(n(e.client.name),1)]),_:2},1024),l("span",Te,n(e.client.companyEmail),1)])])]),"item.total":a(({item:e})=>[v(" $"+n(e.total),1)]),"item.date":a(({item:e})=>[v(n(e.issuedDate),1)]),"item.balance":a(({item:e})=>[typeof f(e.balance,e.total).status=="string"?(r(),D(_e,{key:0,color:f(e.balance,e.total).chip.color,label:"",size:"small"},{default:a(()=>[v(n(f(e.balance,e.total).status),1)]),_:2},1032,["color"])):(r(),_("span",ze,n(Number(f(e.balance,e.total).status)>0?`$${f(e.balance,e.total).status}`:`-$${Math.abs(Number(f(e.balance,e.total).status))}`),1))]),"item.actions":a(({item:e})=>[t(N,{onClick:c=>Q(e.id)},{default:a(()=>[t(w,{icon:"bx-trash"})]),_:2},1032,["onClick"]),t(N,{to:{name:"apps-invoice-preview-id",params:{id:e.id}}},{default:a(()=>[t(w,{icon:"bx-show"})]),_:2},1032,["to"]),t(G,{"menu-list":s(O)(e.id),"item-props":"",class:"text-medium-emphasis"},null,8,["menu-list"])]),bottom:a(()=>[t(H,{page:s(u),"onUpdate:page":i[3]||(i[3]=e=>x(u)?u.value=e:null),"items-per-page":s(d),"total-items":s(z)},null,8,["page","items-per-page","total-items"])]),_:1},8,["model-value","items-per-page","page","items-length","items"])]),_:1})])):(r(),_("section",Ae,[t(I,null,{default:a(()=>[t(se,null,{default:a(()=>[v("No Invoice Found")]),_:1})]),_:1})]))}}});export{Ct as default};
