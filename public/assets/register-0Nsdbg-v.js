import{r as p,e as w}from"./validators-DpYrMFzk.js";import{d as x,r as c,o as k,c as C,b as e,f as a,e as l,n as r,G as V,v as R,am as q,ag as P,t as v,F as j,a as N,k as S}from"./main-B_IkraXW.js";import{_ as T}from"./AppTextField.vue_vue_type_script_setup_true_lang-D6xyp6vX.js";import{_ as U}from"./AuthProvider.vue_vue_type_script_setup_true_lang-m-Gndoev.js";import{V as B}from"./VNodeRenderer-iYg_44op.js";import{a as F}from"./auth-v2-register-illustration-S8yhhavi.js";import{a as n,V as _}from"./VRow-DiOzgfmC.js";import{V as I}from"./VImg-BO9Zigf-.js";import{V as A}from"./VCard-CDhfKLoT.js";import{V as h}from"./VCardText-BYDOgmBH.js";import{V as L}from"./VForm-BF-JC4Gq.js";import{V as $}from"./VCheckbox-o58vsx0H.js";import{V as D}from"./form-BHNnBXi0.js";import{V as g}from"./VDivider-Qh1iiapW.js";import"./helpers-DK5QwNv0.js";import"./VTextField-uiEAHpJ_.js";/* empty css                   */import"./VCounter-DYU4wMzG.js";import"./VField-DRGqa92q.js";import"./easing-CjukEv2V.js";import"./VInput-DV2F-Zc0.js";import"./forwardRefs-C-GTDzx5.js";/* empty css              */import"./VAvatar-BcpaEIM6.js";import"./VCheckboxBtn-Iz1ZzbNu.js";import"./VSelectionControl-DF7kQOL_.js";const E={class:"auth-logo d-flex align-center gap-x-2"},J={class:"auth-title"},M={class:"position-relative bg-background w-100 pa-8"},O={class:"d-flex align-center justify-center w-100 h-100"},G=l("h4",{class:"text-h4 mb-1"}," Adventure starts here 🚀 ",-1),z=l("p",{class:"mb-0"}," Make your app management easy and fun! ",-1),H={class:"d-flex align-center my-6"},K=l("span",{class:"me-1 text-high-emphasis"},"I agree to",-1),Q=l("a",{href:"javascript:void(0)",class:"text-primary"},"privacy policy & terms",-1),W=l("span",{class:"d-inline-block"},"Already have an account?",-1),X=l("span",{class:"mx-4"},"or",-1),Ce=x({__name:"register",setup(Y){const t=c({username:"",email:"",password:"",privacyPolicies:!1}),d=c(!1),u=c({}),y=S(),b=async()=>{u.value={};try{const o=await fetch("http://127.0.0.1:8000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.value.username,email:t.value.email,password:t.value.password,c_password:t.value.password})}),s=await o.json();o.ok?y.push({name:"login"}):u.value=s.errors||{general:"Registration failed."}}catch(o){console.error("Registration failed:",o),u.value.general="Network error. Please try again later."}};return(o,s)=>{const f=N("RouterLink"),m=T;return k(),C(j,null,[e(f,{to:"/"},{default:a(()=>[l("div",E,[e(r(B),{nodes:r(V).app.logo},null,8,["nodes"]),l("h1",J,R(r(V).app.title),1)])]),_:1}),e(_,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:a(()=>[e(n,{md:"8",class:"d-none d-md-flex"},{default:a(()=>[l("div",M,[l("div",O,[e(I,{"max-width":"700",src:r(F),class:"auth-illustration"},null,8,["src"])])])]),_:1}),e(n,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:a(()=>[e(A,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-6"},{default:a(()=>[e(h,null,{default:a(()=>[G,z]),_:1}),e(h,null,{default:a(()=>[e(r(L),{onSubmit:q(b,["prevent"])},{default:a(()=>[e(_,null,{default:a(()=>[e(n,{cols:"12"},{default:a(()=>[e(m,{modelValue:t.value.username,"onUpdate:modelValue":s[0]||(s[0]=i=>t.value.username=i),rules:["requiredValidator"in o?o.requiredValidator:r(p)],autofocus:"",label:"Username",placeholder:"Johndoe"},null,8,["modelValue","rules"])]),_:1}),e(n,{cols:"12"},{default:a(()=>[e(m,{modelValue:t.value.email,"onUpdate:modelValue":s[1]||(s[1]=i=>t.value.email=i),rules:["requiredValidator"in o?o.requiredValidator:r(p),"emailValidator"in o?o.emailValidator:r(w)],label:"Email",type:"email",placeholder:"johndoe@email.com"},null,8,["modelValue","rules"])]),_:1}),e(n,{cols:"12"},{default:a(()=>[e(m,{modelValue:t.value.password,"onUpdate:modelValue":s[2]||(s[2]=i=>t.value.password=i),rules:["requiredValidator"in o?o.requiredValidator:r(p)],label:"Password",placeholder:"············",type:d.value?"text":"password","append-inner-icon":d.value?"bx-hide":"bx-show","onClick:appendInner":s[3]||(s[3]=i=>d.value=!d.value)},null,8,["modelValue","rules","type","append-inner-icon"]),l("div",H,[e($,{id:"privacy-policy",modelValue:t.value.privacyPolicies,"onUpdate:modelValue":s[4]||(s[4]=i=>t.value.privacyPolicies=i),inline:""},null,8,["modelValue"]),e(D,{for:"privacy-policy",style:{opacity:"1"}},{default:a(()=>[K,Q]),_:1})]),e(P,{block:"",type:"submit"},{default:a(()=>[v(" Sign up ")]),_:1})]),_:1}),e(n,{cols:"12",class:"text-center text-base"},{default:a(()=>[W,e(f,{class:"text-primary ms-1 d-inline-block",to:{name:"login"}},{default:a(()=>[v(" Sign in instead ")]),_:1})]),_:1}),e(n,{cols:"12",class:"d-flex align-center"},{default:a(()=>[e(g),X,e(g)]),_:1}),e(n,{cols:"12",class:"text-center"},{default:a(()=>[e(U)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}});export{Ce as default};
