import{a as j,f as le,b as ce}from"./formatters-Cw2xOObF.js";import{aK as re,d as z,n as e,o as c,c as x,e as a,b as t,f as l,a2 as f,x as A,g as $,v as C,ag as R,t as L,F as I,y as T,a as J,P as ae,Q as oe,K as ne,Z as H,aN as de,ah as w,i as F,I as X,J as Y,r as U,aC as ue,w as he,am as me,al as G}from"./main-BaC4daP5.js";import{P as q}from"./vue3-perfect-scrollbar.esm-DnoJNS1m.js";import{u as fe}from"./useApi-DaavQu74.js";import{c as pe}from"./createUrl-DI7L5ShE.js";import{$ as ee}from"./api-BOQs7-eI.js";import{V as B}from"./VAvatar-C7kH6m2U.js";import{V as M}from"./VImg-DaBIesWz.js";import{V as N}from"./VBadge-BJhDYW18.js";import{_ as ve}from"./AppTextField.vue_vue_type_script_setup_true_lang-BoxFt9XM.js";import{V as ie}from"./VDivider-OHXYM3-S.js";import{_ as _e}from"./AppTextarea.vue_vue_type_script_setup_true_lang-BUVlKMFB.js";import{V as xe,a as be}from"./VRadioGroup-Cr6fVx8o.js";import{V as te}from"./VSwitch-jN2TtXEq.js";import{u as ge,V as Ce,a as ye}from"./VMain-CvHd_h7H.js";import{V as K}from"./VNavigationDrawer-CqY49ttj.js";import{V as $e}from"./VSpacer-Kmv_WV24.js";import{V as Ve}from"./VForm-CKfyBDx3.js";import{V as ke}from"./VTextField-Cnd2jctO.js";import"./helpers-DK5QwNv0.js";import"./index-CeW1uQ0r.js";import"./form-Bx6DrHT2.js";/* empty css                   */import"./VCounter-BXlqD8Be.js";import"./VField-CelNtUMo.js";import"./easing-CjukEv2V.js";import"./VInput-khHNYcPy.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelectionControl-CeD2QejG.js";import"./ssrBoot-ClC9I7WC.js";import"./delay-QQ7368Uq.js";import"./scopeId-ZR_fbP0-.js";/* empty css              */const E=()=>({resolveAvatarBadgeVariant:s=>s==="online"?"success":s==="busy"?"error":s==="away"?"warning":"secondary"}),P=re("chat",{state:()=>({contacts:[],chatsContacts:[],profileUser:void 0,activeChat:null}),actions:{async fetchChatsAndContacts(p){const{data:s,error:n}=await fe(pe("/apps/chat/chats-and-contacts",{query:{q:p}}));if(n.value)console.log(n.value);else{const{chatsContacts:r,contacts:v,profileUser:i}=s.value;this.chatsContacts=r,this.contacts=v,this.profileUser=i}},async getChat(p){const s=await ee(`/apps/chat/chats/${p}`);this.activeChat=s},async sendMsg(p){var d,o,_,u,m;const s=(d=this.profileUser)==null?void 0:d.id,n=await ee(`apps/chat/chats/${(o=this.activeChat)==null?void 0:o.contact.id}`,{method:"POST",body:{message:p,senderId:s}}),{msg:r,chat:v}=n;if(v!==void 0){const g=this.activeChat;this.chatsContacts.push({...g.contact,chat:{id:v.id,lastMessage:[],unseenMsgs:0,messages:[r]}}),this.activeChat&&(this.activeChat.chat={id:v.id,messages:[r],unseenMsgs:0,userId:(_=this.activeChat)==null?void 0:_.contact.id})}else(m=(u=this.activeChat)==null?void 0:u.chat)==null||m.messages.push(r);const i=this.chatsContacts.find(g=>this.activeChat?g.id===this.activeChat.contact.id:!1);i.chat.lastMessage=r}}}),V=p=>(ae("data-v-0e69954f"),p=p(),oe(),p),we={class:"text-center px-6"},Ue={key:1,class:"text-3xl"},Ie={class:"text-h5"},Se={class:"text-capitalize text-body-1 mb-0"},Ae={class:"my-6"},Te=V(()=>a("div",{class:"text-body-1 text-disabled mb-1"}," ABOUT ",-1)),Be={class:"mb-6 text-body-1"},De={class:"mb-6"},Ne=V(()=>a("div",{class:"text-body-1 text-disabled mb-1"}," PERSONAL INFORMATION ",-1)),ze={class:"d-flex align-center text-high-emphasis pa-2"},Me=V(()=>a("div",{class:"text-base"}," lucifer@email.com ",-1)),Pe={class:"d-flex align-center text-high-emphasis pa-2"},Oe=V(()=>a("div",{class:"text-base"}," +1(123) 456 - 7890 ",-1)),Le={class:"d-flex align-center text-high-emphasis pa-2"},Fe=V(()=>a("div",{class:"text-base"}," Mon - Fri 10AM - 8PM ",-1)),Ee=V(()=>a("div",{class:"text-body-1 text-disabled mb-1"}," OPTIONS ",-1)),Re={class:"d-flex align-center text-high-emphasis pa-2"},je=V(()=>a("div",{class:"text-base"}," Add Tag ",-1)),Je={class:"d-flex align-center text-high-emphasis pa-2"},qe=V(()=>a("div",{class:"text-base"}," Important Contact ",-1)),Ke={class:"d-flex align-center text-high-emphasis pa-2"},He=V(()=>a("div",{class:"text-base"}," Shared Media ",-1)),Qe={class:"d-flex align-center text-high-emphasis pa-2"},Ze=V(()=>a("div",{class:"text-base"}," Block Contact ",-1)),We=z({__name:"ChatActiveChatUserProfileSidebarContent",emits:["close"],setup(p){const s=P(),{resolveAvatarBadgeVariant:n}=E();return(r,v)=>{const i=J("IconBtn");return e(s).activeChat?(c(),x(I,{key:0},[a("div",{class:A(["chat-user-profile-close-button",r.$vuetify.locale.isRtl?"text-left":"text-right"])},[t(i,{onClick:v[0]||(v[0]=d=>r.$emit("close"))},{default:l(()=>[t(f,{icon:"bx-x",class:"text-medium-emphasis",size:"24"})]),_:1})],2),a("div",we,[t(N,{location:"bottom right","offset-x":"13","offset-y":"7",bordered:"",color:e(n)(e(s).activeChat.contact.status),class:"chat-user-profile-badge mb-4 mt-12"},{default:l(()=>[t(B,{size:"84",variant:e(s).activeChat.contact.avatar?void 0:"tonal",color:e(s).activeChat.contact.avatar?void 0:e(n)(e(s).activeChat.contact.status)},{default:l(()=>[e(s).activeChat.contact.avatar?(c(),$(M,{key:0,src:e(s).activeChat.contact.avatar},null,8,["src"])):(c(),x("span",Ue,C(("avatarText"in r?r.avatarText:e(j))(e(s).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),a("h5",Ie,C(e(s).activeChat.contact.fullName),1),a("p",Se,C(e(s).activeChat.contact.role),1)]),t(e(q),{class:"ps-chat-user-profile-sidebar-content text-medium-emphasis pb-6 px-6",options:{wheelPropagation:!1}},{default:l(()=>[a("div",Ae,[Te,a("p",Be,C(e(s).activeChat.contact.about),1)]),a("div",De,[Ne,a("div",ze,[t(f,{class:"me-2",icon:"bx-envelope",size:"20"}),Me]),a("div",Pe,[t(f,{class:"me-2",icon:"bx-phone",size:"20"}),Oe]),a("div",Le,[t(f,{class:"me-2",icon:"bx-time-five",size:"20"}),Fe])]),a("div",null,[Ee,a("div",Re,[t(f,{class:"me-2",icon:"bx-bookmark",size:"20"}),je]),a("div",Je,[t(f,{class:"me-2",icon:"bx-star",size:"20"}),qe]),a("div",Ke,[t(f,{class:"me-2",icon:"bx-image-alt",size:"20"}),He]),a("div",Qe,[t(f,{icon:"bx-block",class:"me-2",size:"20"}),Ze]),t(R,{block:"",color:"error","append-icon":"bx-trash",class:"mt-12"},{default:l(()=>[L(" Delete Contact ")]),_:1})])]),_:1})],64)):T("",!0)}}}),Xe=ne(We,[["__scopeId","data-v-0e69954f"]]),Ye={key:1},Ge={class:"flex-grow-1 ms-4 overflow-hidden"},et={class:"text-base text-high-emphasis mb-0"},tt={class:"mb-0 text-truncate text-body-2"},st={key:0,class:"d-flex flex-column align-self-start"},at={class:"text-body-2 text-disabled whitespace-no-wrap"},se=z({__name:"ChatContact",props:{isChatContact:{type:Boolean,default:!1},user:{}},setup(p){const s=p,n=P(),{resolveAvatarBadgeVariant:r}=E(),v=H(()=>{var d,o;const i=((d=n.activeChat)==null?void 0:d.contact.id)===s.user.id;return(s.isChatContact||!((o=n.activeChat)!=null&&o.chat))&&i});return(i,d)=>(c(),x("li",{key:e(n).chatsContacts.length,class:A(["chat-contact cursor-pointer d-flex align-center",{"chat-contact-active":e(v)}])},[t(N,{dot:"",location:"bottom right","offset-x":"3","offset-y":"0",color:e(r)(s.user.status),bordered:"","model-value":s.isChatContact},{default:l(()=>[t(B,{variant:s.user.avatar?void 0:"tonal",color:s.user.avatar?void 0:e(r)(s.user.status)},{default:l(()=>[s.user.avatar?(c(),$(M,{key:0,src:s.user.avatar,alt:"John Doe"},null,8,["src"])):(c(),x("span",Ye,C(("avatarText"in i?i.avatarText:e(j))(i.user.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color","model-value"]),a("div",Ge,[a("p",et,C(s.user.fullName),1),a("p",tt,C(s.isChatContact&&"chat"in s.user?s.user.chat.lastMessage.message:s.user.about),1)]),s.isChatContact&&"chat"in s.user?(c(),x("div",st,[a("div",at,C(("formatDateToMonthShort"in i?i.formatDateToMonthShort:e(le))(s.user.chat.lastMessage.time)),1),s.user.chat.unseenMsgs?(c(),$(N,{key:0,color:"error",inline:"",content:s.user.chat.unseenMsgs,class:"ms-auto"},null,8,["content"])):T("",!0)])):T("",!0)],2))}}),ot={key:0,class:"chat-list-header"},nt=a("li",{class:"list-none"},[a("h5",{class:"chat-contact-header text-primary text-h5"}," Chats ")],-1),it={class:"no-chat-items-text text-disabled"},lt=a("li",{class:"list-none pt-3"},[a("h5",{class:"chat-contact-header text-primary text-h5"}," Contacts ")],-1),ct={class:"no-chat-items-text text-disabled"},rt=z({__name:"ChatLeftSidebarContent",props:{search:{},isDrawerOpen:{type:Boolean}},emits:["openChatOfContact","showUserProfile","close","update:search"],setup(p,{emit:s}){const n=p,r=s,{resolveAvatarBadgeVariant:v}=E(),i=de(n,"search",r),d=P();return(o,_)=>{const u=ve,m=J("IconBtn");return c(),x(I,null,[e(d).profileUser?(c(),x("div",ot,[t(N,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:e(v)(e(d).profileUser.status),bordered:""},{default:l(()=>[t(B,{class:"cursor-pointer",onClick:_[0]||(_[0]=g=>o.$emit("showUserProfile"))},{default:l(()=>[t(M,{src:e(d).profileUser.avatar,alt:"John Doe"},null,8,["src"])]),_:1})]),_:1},8,["color"]),t(u,{modelValue:e(i),"onUpdate:modelValue":_[1]||(_[1]=g=>w(i)?i.value=g:null),placeholder:"Search...",rounded:"","prepend-inner-icon":"bx-search",class:"ms-4 chat-list-search"},null,8,["modelValue"]),o.$vuetify.display.smAndDown?(c(),$(m,{key:0,onClick:_[2]||(_[2]=g=>o.$emit("close"))},{default:l(()=>[t(f,{icon:"bx-x",class:"text-medium-emphasis"})]),_:1})):T("",!0)])):T("",!0),t(ie),t(e(q),{tag:"ul",class:"d-flex flex-column gap-y-1 chat-contacts-list px-3 py-2 list-none",options:{wheelPropagation:!1}},{default:l(()=>[nt,(c(!0),x(I,null,F(e(d).chatsContacts,g=>(c(),$(se,{key:`chat-${g.id}`,user:g,"is-chat-contact":"",onClick:S=>o.$emit("openChatOfContact",g.id)},null,8,["user","onClick"]))),128)),X(a("span",it,"No chats found",512),[[Y,!e(d).chatsContacts.length]]),lt,(c(!0),x(I,null,F(e(d).contacts,g=>(c(),$(se,{key:`chat-${g.id}`,user:g,onClick:S=>o.$emit("openChatOfContact",g.id)},null,8,["user","onClick"]))),128)),X(a("span",ct,"No contacts found",512),[[Y,!e(d).contacts.length]])]),_:1})],64)}}}),dt={class:"chat-log pa-6"},ut={class:"mb-0 text-base"},ht={class:"text-sm ms-2 text-disabled"},mt=z({__name:"ChatLog",setup(p){const s=P(),n=H(()=>{var i,d;return{id:(i=s.activeChat)==null?void 0:i.contact.id,avatar:(d=s.activeChat)==null?void 0:d.contact.avatar}}),r=i=>i.isSeen?{icon:"bx-check-double",color:"success"}:i.isDelivered?{icon:"bx-check-double",color:void 0}:{icon:"bx-check",color:void 0},v=H(()=>{let i=[];const d=[];if(s.activeChat.chat){i=s.activeChat.chat.messages;let o=i[0].senderId,_={senderId:o,messages:[]};i.forEach((u,m)=>{o===u.senderId?_.messages.push({message:u.message,time:u.time,feedback:u.feedback}):(o=u.senderId,d.push(_),_={senderId:u.senderId,messages:[{message:u.message,time:u.time,feedback:u.feedback}]}),m===i.length-1&&d.push(_)})}return d});return(i,d)=>(c(),x("div",dt,[(c(!0),x(I,null,F(e(v),(o,_)=>(c(),x("div",{key:o.senderId+String(_),class:A(["chat-group d-flex align-start",[{"flex-row-reverse":o.senderId!==e(n).id,"mb-6":e(v).length-1!==_}]])},[a("div",{class:A(["chat-avatar",o.senderId!==e(n).id?"ms-4":"me-4"])},[t(B,{size:"32"},{default:l(()=>{var u;return[t(M,{src:o.senderId===e(n).id?e(n).avatar:(u=e(s).profileUser)==null?void 0:u.avatar},null,8,["src"])]}),_:2},1024)],2),a("div",{class:A(["chat-body d-inline-flex flex-column",o.senderId!==e(n).id?"align-end":"align-start"])},[(c(!0),x(I,null,F(o.messages,(u,m)=>(c(),x("div",{key:u.time,class:A(["chat-content py-2 px-4 elevation-2",[o.senderId===e(n).id?"chat-left":"bg-primary text-white chat-right",o.messages.length-1!==m?"mb-2":"mb-1"]]),style:{"background-color":"rgb(var(--v-theme-surface))"}},[a("p",ut,C(u.message),1)],2))),128)),a("div",{class:A({"text-right":o.senderId!==e(n).id})},[o.senderId!==e(n).id?(c(),$(f,{key:0,size:"16",color:r(o.messages[o.messages.length-1].feedback).color},{default:l(()=>[L(C(r(o.messages[o.messages.length-1].feedback).icon),1)]),_:2},1032,["color"])):T("",!0),a("span",ht,C(("formatDate"in i?i.formatDate:e(ce))(o.messages[o.messages.length-1].time,{hour:"numeric",minute:"numeric"})),1)],2)],2)],2))),128))]))}}),D=p=>(ae("data-v-aaffa71d"),p=p(),oe(),p),ft={class:"chat-user-profile-close-button"},pt={class:"text-center px-6 pb-6"},vt={key:1,class:"text-3xl"},_t={class:"text-h5"},xt={class:"text-capitalize text-body-1 mb-0"},bt={class:"mb-6 text-medium-emphasis"},gt=D(()=>a("div",{for:"textarea-user-about",class:"text-base text-disabled"}," ABOUT ",-1)),Ct={class:"mb-6"},yt=D(()=>a("div",{class:"text-base text-disabled mb-1"}," STATUS ",-1)),$t={class:"text-medium-emphasis chat-settings-section"},Vt=D(()=>a("div",{class:"text-base text-disabled mb-1"}," SETTINGS ",-1)),kt={class:"d-flex align-center pa-2"},wt={class:"text-high-emphasis d-flex align-center justify-space-between flex-grow-1"},Ut=D(()=>a("div",{class:"text-body-1 text-high-emphasis"}," Two-step Verification ",-1)),It={class:"d-flex align-center pa-2"},St={class:"text-high-emphasis d-flex align-center justify-space-between flex-grow-1"},At=D(()=>a("div",{class:"text-body-1 text-high-emphasis"}," Notification ",-1)),Tt={class:"d-flex align-center pa-2"},Bt=D(()=>a("div",{class:"text-high-emphasis"}," Invite Friends ",-1)),Dt={class:"d-flex align-center pa-2"},Nt=D(()=>a("div",{class:"text-high-emphasis"}," Delete Account ",-1)),zt=z({__name:"ChatUserProfileSidebarContent",emits:["close"],setup(p){const s=P(),{resolveAvatarBadgeVariant:n}=E(),r=[{title:"Online",value:"online",color:"success"},{title:"Away",value:"away",color:"warning"},{title:"Do not disturb",value:"busy",color:"error"},{title:"Offline",value:"offline",color:"secondary"}],v=U(!0),i=U(!1);return(d,o)=>{const _=J("IconBtn"),u=_e;return e(s).profileUser?(c(),x(I,{key:0},[a("div",ft,[t(_,{onClick:o[0]||(o[0]=m=>d.$emit("close"))},{default:l(()=>[t(f,{class:"text-medium-emphasis",icon:"bx-x",size:"24"})]),_:1})]),a("div",pt,[t(N,{location:"bottom right","offset-x":"13","offset-y":"7",bordered:"",color:e(n)(e(s).profileUser.status),class:"chat-user-profile-badge mb-4 mt-12"},{default:l(()=>[t(B,{size:"84",variant:e(s).profileUser.avatar?void 0:"tonal",color:e(s).profileUser.avatar?void 0:e(n)(e(s).profileUser.status)},{default:l(()=>[e(s).profileUser.avatar?(c(),$(M,{key:0,src:e(s).profileUser.avatar},null,8,["src"])):(c(),x("span",vt,C(("avatarText"in d?d.avatarText:e(j))(e(s).profileUser.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),a("h5",_t,C(e(s).profileUser.fullName),1),a("p",xt,C(e(s).profileUser.role),1)]),t(e(q),{class:"ps-chat-user-profile-sidebar-content pb-6 px-6",options:{wheelPropagation:!1}},{default:l(()=>[a("div",bt,[gt,t(u,{id:"textarea-user-about",modelValue:e(s).profileUser.about,"onUpdate:modelValue":o[1]||(o[1]=m=>e(s).profileUser.about=m),"auto-grow":"",class:"mt-1",rows:"3"},null,8,["modelValue"])]),a("div",Ct,[yt,t(xe,{modelValue:e(s).profileUser.status,"onUpdate:modelValue":o[2]||(o[2]=m=>e(s).profileUser.status=m)},{default:l(()=>[(c(),x(I,null,F(r,m=>t(be,{key:m.title,label:m.title,value:m.value,color:m.color},null,8,["label","value","color"])),64))]),_:1},8,["modelValue"])]),a("div",$t,[Vt,a("div",kt,[t(f,{class:"me-2 text-high-emphasis",icon:"bx-lock-alt",size:"20"}),a("div",wt,[Ut,t(te,{modelValue:e(v),"onUpdate:modelValue":o[3]||(o[3]=m=>w(v)?v.value=m:null),density:"compact"},null,8,["modelValue"])])]),a("div",It,[t(f,{class:"me-2 text-high-emphasis",icon:"bx-bell",size:"20"}),a("div",St,[At,t(te,{modelValue:e(i),"onUpdate:modelValue":o[4]||(o[4]=m=>w(i)?i.value=m:null),density:"compact"},null,8,["modelValue"])])]),a("div",Tt,[t(f,{class:"me-2 text-high-emphasis",icon:"bx-user-plus",size:"20"}),Bt]),a("div",Dt,[t(f,{class:"me-2 text-high-emphasis",icon:"bx-trash",size:"20"}),Nt])]),t(R,{color:"primary",class:"mt-12",block:"","append-icon":"bx-log-out"},{default:l(()=>[L(" Logout ")]),_:1})]),_:1})],64)):T("",!0)}}}),Mt=ne(zt,[["__scopeId","data-v-aaffa71d"]]),Pt={key:0,class:"d-flex flex-column h-100"},Ot={class:"active-chat-header d-flex align-center text-medium-emphasis bg-surface"},Lt={key:1},Ft={class:"flex-grow-1 ms-4 overflow-hidden"},Et={class:"text-h6 mb-0 font-weight-regular"},Rt={class:"text-truncate mb-0 text-body-2"},jt={class:"d-sm-flex align-center d-none text-medium-emphasis gap-1"},Jt={class:"d-flex gap-1"},qt={key:1,class:"d-flex h-100 align-center justify-center flex-column"},Kt={key:1,style:{"max-inline-size":"40ch","text-wrap":"balance"},class:"text-center text-disabled"},ws=z({__name:"chat",setup(p){const s=ue(),n=P(),{isLeftSidebarOpen:r}=ge(s.smAndDown),{resolveAvatarBadgeVariant:v}=E(),i=U(),d=()=>{const y=i.value.$el||i.value;y.scrollTop=y.scrollHeight},o=U("");he(o,y=>n.fetchChatsAndContacts(y),{immediate:!0});const _=()=>{s.mdAndUp.value||(r.value=!0)},u=U(""),m=async()=>{u.value&&(await n.sendMsg(u.value),u.value="",G(()=>{d()}))},g=async y=>{await n.getChat(y),u.value="";const h=n.chatsContacts.find(k=>k.id===y);h&&(h.chat.unseenMsgs=0),s.smAndDown.value&&(r.value=!1),G(()=>{d()})},S=U(!1),O=U(!1),Q=U();return(y,h)=>{const k=J("IconBtn");return c(),$(ye,{class:"chat-app-layout"},{default:l(()=>[t(K,{modelValue:e(S),"onUpdate:modelValue":h[1]||(h[1]=b=>w(S)?S.value=b:null),temporary:"",touchless:"",absolute:"",class:"user-profile-sidebar",location:"start",border:"none",width:"370"},{default:l(()=>[t(Mt,{onClose:h[0]||(h[0]=b=>S.value=!1)})]),_:1},8,["modelValue"]),t(K,{modelValue:e(O),"onUpdate:modelValue":h[3]||(h[3]=b=>w(O)?O.value=b:null),width:"374",absolute:"",temporary:"",location:"end",border:"none",touchless:"",class:"active-chat-user-profile-sidebar"},{default:l(()=>[t(Xe,{onClose:h[2]||(h[2]=b=>O.value=!1)})]),_:1},8,["modelValue"]),t(K,{modelValue:e(r),"onUpdate:modelValue":h[8]||(h[8]=b=>w(r)?r.value=b:null),absolute:"",touchless:"",location:"start",width:"370",temporary:y.$vuetify.display.smAndDown,class:"chat-list-sidebar",permanent:y.$vuetify.display.mdAndUp},{default:l(()=>[t(rt,{isDrawerOpen:e(r),"onUpdate:isDrawerOpen":h[4]||(h[4]=b=>w(r)?r.value=b:null),search:e(o),"onUpdate:search":h[5]||(h[5]=b=>w(o)?o.value=b:null),onOpenChatOfContact:g,onShowUserProfile:h[6]||(h[6]=b=>S.value=!0),onClose:h[7]||(h[7]=b=>r.value=!1)},null,8,["isDrawerOpen","search"])]),_:1},8,["modelValue","temporary","permanent"]),t(Ce,{class:"chat-content-container"},{default:l(()=>[e(n).activeChat?(c(),x("div",Pt,[a("div",Ot,[t(k,{class:"d-md-none me-3",onClick:h[9]||(h[9]=b=>r.value=!0)},{default:l(()=>[t(f,{icon:"bx-menu"})]),_:1}),a("div",{class:"d-flex align-center cursor-pointer",onClick:h[10]||(h[10]=b=>O.value=!0)},[t(N,{dot:"",location:"bottom right","offset-x":"3","offset-y":"0",color:e(v)(e(n).activeChat.contact.status),bordered:""},{default:l(()=>[t(B,{variant:e(n).activeChat.contact.avatar?void 0:"tonal",color:e(n).activeChat.contact.avatar?void 0:e(v)(e(n).activeChat.contact.status),class:"cursor-pointer"},{default:l(()=>[e(n).activeChat.contact.avatar?(c(),$(M,{key:0,src:e(n).activeChat.contact.avatar,alt:e(n).activeChat.contact.fullName},null,8,["src","alt"])):(c(),x("span",Lt,C(("avatarText"in y?y.avatarText:e(j))(e(n).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),a("div",Ft,[a("div",Et,C(e(n).activeChat.contact.fullName),1),a("p",Rt,C(e(n).activeChat.contact.role),1)])]),t($e),a("div",jt,[t(k,null,{default:l(()=>[t(f,{icon:"bx-phone"})]),_:1}),t(k,null,{default:l(()=>[t(f,{icon:"bx-video"})]),_:1}),t(k,null,{default:l(()=>[t(f,{icon:"bx-search"})]),_:1}),t(k,null,{default:l(()=>[t(f,{icon:"bx-dots-vertical-rounded"})]),_:1})])]),t(ie),t(e(q),{ref_key:"chatLogPS",ref:i,tag:"ul",options:{wheelPropagation:!1},class:"flex-grow-1"},{default:l(()=>[t(mt)]),_:1},512),t(Ve,{class:"chat-log-message-form mb-6 mx-6",onSubmit:me(m,["prevent"])},{default:l(()=>{var b;return[(c(),$(ke,{key:(b=e(n).activeChat)==null?void 0:b.contact.id,modelValue:e(u),"onUpdate:modelValue":h[12]||(h[12]=Z=>w(u)?u.value=Z:null),variant:"solo",density:"default",class:"chat-message-input",placeholder:"Type your message",autofocus:""},{"append-inner":l(()=>[a("div",Jt,[t(k,null,{default:l(()=>[t(f,{icon:"bx-microphone",class:"text-high-emphasis"})]),_:1}),t(k,{onClick:h[11]||(h[11]=Z=>{var W;return(W=e(Q))==null?void 0:W.click()})},{default:l(()=>[t(f,{icon:"bx-paperclip",class:"text-high-emphasis"})]),_:1}),t(R,{onClick:m},{append:l(()=>[t(f,{icon:"bx-paper-plane",color:"#fff"})]),default:l(()=>[L(" Send ")]),_:1})])]),_:1},8,["modelValue"])),a("input",{ref_key:"refInputEl",ref:Q,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:""},null,512)]}),_:1})])):(c(),x("div",qt,[t(B,{size:"98",variant:"tonal",color:"primary",class:"mb-4"},{default:l(()=>[t(f,{size:"50",class:"rounded-0",icon:"bx-message-rounded"})]),_:1}),y.$vuetify.display.smAndDown?(c(),$(R,{key:0,rounded:"pill",onClick:_},{default:l(()=>[L(" Start Conversation ")]),_:1})):(c(),x("p",Kt," Start connecting with the people by selecting one of the contact on left "))]))]),_:1})]),_:1})}}});export{ws as default};
